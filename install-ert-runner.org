#+TITLE: Batch File to Install ert-runner Package
#+OPTIONS: toc:2 num:nil ^:nil

* Implementation

#+name: install-ert-runner
#+begin_src emacs-lisp :tangle yes
  (setq starter-kit-dir user-emacs-directory)

  (let ((elisp-dir (expand-file-name "src" starter-kit-dir)))
    ;; add the src directory to the load path
    (add-to-list 'load-path elisp-dir)
    ;; load specific files
    (when (file-exists-p elisp-dir)
      (let ((default-directory elisp-dir))
        (normal-top-level-add-subdirs-to-load-path))))

  (setq package-user-dir (concat starter-kit-dir "elpa"))
  (setq package-archives
        '(("gnu"         . "http://elpa.gnu.org/packages/")
          ("melpa"       . "http://melpa.milkbox.net/packages/")))
  (package-initialize)
  (package-install 'ert-runner)


#+end_src
